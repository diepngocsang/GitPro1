<script>
//$(document).ready(function()
//{
//    function isEmail(emailStr)
//{
//        var emailPat=/^(.+)@(.+)$/
//        var specialChars="\\(\\)<>@,;:\\\\\\\"\\.\\[\\]"
//        var validChars="\[^\\s" + specialChars + "\]"
//        var quotedUser="(\"[^\"]*\")"
//        var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/
//        var atom=validChars + '+'
//        var word="(" + atom + "|" + quotedUser + ")"
//        var userPat=new RegExp("^" + word + "(\\." + word + ")*$")
//        var domainPat=new RegExp("^" + atom + "(\\." + atom +")*$")
//        var matchArray=emailStr.match(emailPat)
//        if (matchArray==null) {
//                return false
//        }
//        var user=matchArray[1]
//        var domain=matchArray[2]
// 
//        // See if "user" is valid
//        if (user.match(userPat)==null) {
//            return false
//        }
//        var IPArray=domain.match(ipDomainPat)
//        if (IPArray!=null) {
//            // this is an IP address
//                  for (var i=1;i<=4;i++) {
//                    if (IPArray[i]>255) {
//                        return false
//                    }
//            }
//            return true
//        }
//        var domainArray=domain.match(domainPat)
//        if (domainArray==null) {
//            return false
//        }
// 
//        var atomPat=new RegExp(atom,"g")
//        var domArr=domain.match(atomPat)
//        var len=domArr.length
// 
//        if (domArr[domArr.length-1].length<2 ||
//            domArr[domArr.length-1].length>3) {
//           return false
//        }
// 
//        if (len<2)
//        {
//           return false
//        }
// 
//        return true;
//}
//    $('#form_register').submit(function(){
// 
//        // BƯỚC 1: Lấy dữ liệu từ form
//        var firstname    = $.trim($('#firstname').val());
//        var lastname    = $.trim($('#lastname').val());
//        var email       = $.trim($('#email').val());
//        var phone       = $.trim($('#phone').val());
//        var address     = $.trim($('#address').val());
// 
//        // BƯỚC 2: Validate dữ liệu
//        // Biến cờ hiệu
//        var flag = true;
//        
//        // Username
//        if (firstname == ''){
//            $('#firstname').text('Tên đăng nhập phải lớn hơn 4 ký tự');
//            flag = false;
//        }
//        else{
//            $('#firstname_err').text('');
//        }
//        if (lastname == ''){
//            $('#lastname').text('Tên đăng nhập phải lớn hơn 4 ký tự');
//            flag = false;
//        }
//        else{
//            $('#lastname_err').text('');
//        }
// 
//        // Email
//        if (!isEmail(email)){
//            $('#email_err').text('Email không được để trống và phải đúng định dạng');
//            flag = false;
//        }
//        else{
//            $('#email_err').text('');
//        }
// 
//        return flag;
//    });
//});
</script>
   <div class="container text-center" >
    <h1>YOUR CART</h1>
    <br>
    <hr />
    <div class="row container">
        <div class="col-md-7 table-responsive">
            <table class="table table-striped" style="width: 100%;" id="table">
                <tr>
                    <th>Item No.</th>
                    <th>Item Name</th>
                    <th>Quantity</th>
                    <th>Total ($)</th>
                    <th>Remove</th>
                </tr>
                <tr ng-repeat="item in shopcart">
                    <td>{{item.code}}</td>
                    <td><a  ui-sref="detail({code: item.code})">{{item.name}}</a></td>
                    <td>
                        <select ng-model="item.quantity"  ng-init="item.quantity = 1">
                            <option value="1" selected="selected">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </td>
                    <td>{{item.quantity*item.price}}</td>
                    <td><i style="cursor: pointer" class="fa fa-times" ng-click="delProductItem(item)"></i></td>
                </tr>                        
            </table>
            <div class="total-price">
                <p>Total($): {{getTotal(shopcart)}}$</p>
            </div>
        </div>
        <div class="col-md-5">
           <div class="infor-user">
               <h5>YOUR INFORMATION</h5><br />
            <div class="form-horizontal regist" role="form">
              <form name="myform">
                  <div class="form-group">
                    <label class="control-label col-md-3" for="txtFirstName">First Name:</label>
                    <div class="col-md-9">
                    <input id="firstname" class="form-control" ng-model="user.first" type="text" placeholder="First Name" ng-required="true">
                    <span id="firstname_err"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3" for="txtLastName">Last Name:</label>
                    <div class="col-md-9">
                        <input id="lastname" ng-model="user.last" class="form-control" type="text" placeholder="Last Name" ng-required="true">
                        <span id="lastname_err"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3" for="txtEmail">E-mail:</label>
                    <div class="col-md-9">
                    <input id="email" ng-model="user.email" class="form-control" type="email" placeholder="E-mail" data-type="email" ng-required="true">
                        <span id="email_err"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3" for="txtAddress">Address:</label>
                    <div class="col-md-9">
                        <input id="address" ng-model="user.address" class="form-control" type="text" placeholder="Address" ng-required="true">
                        <span id="address_err"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3" for="txtPhone">Phone No.:</label>
                    <div class="col-md-9">
                        <input id="phone" ng-model="user.phone" class="form-control" type="tel" placeholder="Phone Number" ng-required="true">
                        <span id="phone_err"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                        <button id="btnAdd" class="btn" ng-click="myform.$valid && addCartToFirebase()">Confirm</button>
                    </div>
                </div>
              </form>               
            </div>
           </div>                    
        </div>
    </div>
    <hr />
</div>
<br>